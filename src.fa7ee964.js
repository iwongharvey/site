parcelRequire=function(e){var r="function"==typeof parcelRequire&&parcelRequire,n="function"==typeof require&&require,i={};function u(e,u){if(e in i)return i[e];var t="function"==typeof parcelRequire&&parcelRequire;if(!u&&t)return t(e,!0);if(r)return r(e,!0);if(n&&"string"==typeof e)return n(e);var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}return u.register=function(e,r){i[e]=r},i=e(u),u.modules=i,u}(function (require) {var qc;const ab="*";const h=Symbol();var Va;(function($){$[$.FINE=0]="FINE",$[$.DEBUG=1]="DEBUG",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.SEVERE=4]="SEVERE",$[$.NONE=5]="NONE"})(Va||(qc=Va={},qc));const ub=Object.freeze({level:Va.NONE,fine(){},debug(){},info(){},warn(){},severe(){}});const Ua=(e,t={})=>{const o=Reflect.ownKeys(e),r=Reflect.ownKeys(t),n=Symbol("isa");function i(t){for(let r of o){const o=Object.getOwnPropertyDescriptor(t.prototype,r);!o||o.configurable?Object.defineProperty(t.prototype,r,{value:e[r],writable:!0}):console.log(`not patching: ${t.name}.${r.toString()}`)}return Object.defineProperty(t.prototype,n,{value:!0}),t}for(let p of r)Object.defineProperty(i,p,{value:t[p],enumerable:t.propertyIsEnumerable(p)});return Object.defineProperty(i,Symbol.hasInstance,{value:e=>!!e[n]}),i};class _a extends Error{constructor(r){super("illegal argument(s)"+(void 0!==r?": "+r:""))}}const ia=r=>{throw new _a(r)};class Ub extends Error{constructor(r){super(`illegal arity: ${r}`)}}const m=r=>{throw new Ub(r)};class uc extends Error{constructor(t){super("illegal state"+(void 0!==t?": "+t:""))}}const Oa=t=>{throw new uc(t)};const Ka=(e,t)=>{if(e)for(let i,r=0,s=e.length;r<s;r++)if((i=e[r])[0].call(i[1],t),t.canceled)return};const Ab=Ua({addListener(e,t,i){let r=(this._listeners=this._listeners||{})[e];return r||(r=this._listeners[e]=[]),-1===this.__listener(r,t,i)&&(r.push([t,i]),!0)},removeListener(e,t,i){if(!this._listeners)return!1;const r=this._listeners[e];if(r){const e=this.__listener(r,t,i);if(-1!==e)return r.splice(e,1),!0}return!1},notify(e){this._listeners&&(void 0===e.target&&(e.target=this),Ka(this._listeners[e.id],e),Ka(this._listeners[ab],e))},__listener(e,t,i){let r=e.length;for(;--r>=0;){const s=e[r];if(s[0]===t&&s[1]===i)break}return r}});const Db=Ua({addWatch(t,e){return this._watches=this._watches||{},!this._watches[t]&&(this._watches[t]=e,!0)},removeWatch(t){if(this._watches)return!!this._watches[t]&&(delete this._watches[t],!0)},notifyWatches(t,e){if(!this._watches)return;const i=this._watches;for(let h in i)i[h](h,t,e)}});let i=ub;const x=o=>"function"==typeof o;const K=(n,t)=>null!=n&&"function"==typeof n[t];const l=Array.isArray;const ib=t=>null!=t&&"function"!=typeof t&&void 0!==t.length;const Ja=e=>null!=e&&"function"==typeof e[Symbol.iterator];const Ia=t=>null!=t&&"string"!=typeof t&&"function"==typeof t[Symbol.iterator];const Ga=Object.getPrototypeOf,Sb=$=>{let t;return null!=$&&"object"==typeof $&&(null===(t=Ga($))||null===Ga(t))};const Tb=s=>s instanceof Promise;const n=t=>"string"==typeof t;function*ea($,e){const r=$([null,null,($,e)=>e])[2];for(let t of e){let $=r(h,t);if(F($))return void(($=H($.deref()))!==h&&(yield $));$!==h&&(yield $)}}class Da{constructor(e){this.value=e}deref(){return this.value}}const F=e=>e instanceof Da;const H=e=>e instanceof Da?e.deref():e;function I($){return $?[...$]:da(()=>[],($,r)=>($.push(r),$))}function J(...e){let $,r;switch(e.length){case 3:r=e[2],$=e[1];break;case 2:r=e[1];break;default:m(e.length);}const u=e[0],t=u[0],c=u[1],o=u[2];if($=null==$?t():$,K(r,"$reduce"))$=r.$reduce(o,$);else if(ib(r)){for(let i=0,d=r.length;i<d;i++)if($=o($,r[i]),F($)){$=$.deref();break}}else for(let i of r)if($=o($,i),F($)){$=$.deref();break}return H(c($))}const da=(e,$)=>[e,e=>e,$];const Hb=(e,$)=>{const r=$.length-1;return Ja($[r])?$.length>1?J(e.apply(null,$.slice(0,r)),$[r]):J(e(),$[0]):void 0};const Kb=($,e,r=ea)=>{const t=e.length-1;return Ja(e[t])?e.length>1?r($.apply(null,e.slice(0,t)),e[t]):r($(),e[0]):void 0};function X(...e){let r,$;switch(e.length){case 4:$=e[3],r=e[2];break;case 3:$=e[2];break;case 2:return d(r=>X(e[0],e[1],r));default:m(e.length);}return J(e[0](e[1]),r,$)}function d(t,r){return r?ea(d(t),r):r=>{const $=r[2];return S(r,(r,e)=>$(r,t(e)))}}const S=($,o)=>[$[0],$[1],o];function Aa($){return $?J(Aa(),$):da(()=>new Object,($,[e,r])=>($[e]=r,$))}function za(...e){let[r,$,t,o,u,c,p,n,s,a]=e;switch(e.length){case 0:m(0);case 1:return r;case 2:return(...e)=>r($(...e));case 3:return(...e)=>r($(t(...e)));case 4:return(...e)=>r($(t(o(...e))));case 5:return(...e)=>r($(t(o(u(...e)))));case 6:return(...e)=>r($(t(o(u(c(...e))))));case 7:return(...e)=>r($(t(o(u(c(p(...e)))))));case 8:return(...e)=>r($(t(o(u(c(p(n(...e))))))));case 9:return(...e)=>r($(t(o(u(c(p(n(s(...e)))))))));case 10:default:const G=(...e)=>r($(t(o(u(c(p(n(s(a(...e))))))))));return 10===e.length?G:za(G,...e.slice(10));}}const $a=t=>t;function ya(...r){const $=Hb(ya,r);if($)return $;const e=Object.assign({key:$a,group:I()},r[0]),[o,p,t]=e.group;return da(()=>({}),(r,$)=>{const p=e.key($);return r[p]=r[p]?t(r[p],$):t(o(),$),r})}function Ya(r,$){return $?ea(Ya(r),$):$=>{const e=$[2];return S($,($,t)=>r(t)?e($,t):$)}}const wa=Object.getPrototypeOf({}),j=(e,t)=>{let $;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=($=Object.getPrototypeOf(e))&&$!==wa||null!=($=Object.getPrototypeOf(t))&&$!==wa?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?va(e,t):e instanceof Set&&t instanceof Set?ua(e,t):e instanceof Map&&t instanceof Map?qa(e,t):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:na(e,t)))};const va=(e,t,$=j)=>{let o=e.length;if(o===t.length)for(;--o>=0&&$(e[o],t[o]););return o<0};const ua=(e,t,$=j)=>e.size===t.size&&$([...e.keys()].sort(),[...t.keys()].sort());const qa=(e,t,$=j)=>e.size===t.size&&$([...e].sort(),[...t].sort());const na=(e,t,$=j)=>{if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let o in e)if(!t.hasOwnProperty(o)||!$(e[o],t[o]))return!1;return!0};function Qa(...r){return Kb(Qa,r)||(e=>{const t=e[2],$=r[0];let p=r[1]||0;return S(e,(r,e)=>t(r,$(p++,e)))})}function aa(...$){return za.apply(null,$)}function*_b(r){for(let $ in r)r.hasOwnProperty($)&&(yield[$,r[$]])}let ic=0;const M=()=>ic++;const sc=(t,s,i,e)=>new La(t,s,i,e);class La{constructor(t,s,i,e){this.state=0,this.parent=i,this.id=e||`sub-${M()}`,this.last=h,this.subs=[],t&&this.subs.push(t),s&&(this.xform=s(I()))}deref(){return this.last!==h?this.last:void 0}getState(){return this.state}subscribe(...t){let s,i,e;switch(this.ensureState(),t.length){case 1:case 2:x(t[0])?(i=t[0],e=t[1]||`xform-${M()}`):(s=t[0],x(t[1])?i=t[1]:e=t[1]);break;case 3:[s,i,e]=t;break;default:m(t.length);}return K(s,"subscribe")?s.parent=this:s=sc(s,i,this,e),this.last!==h&&s.next(this.last),this.addWrapped(s)}subscribeAll(...t){const s=[];for(let i of t)s.push(this.subscribe(i));return s}transform(...t){const s=t.length-1;return n(t[s])?this.subscribe(aa(...t.slice(0,s)),t[s]):this.subscribe(aa(...t))}unsubscribe(t){if(i.debug(this.id,"unsub start",t?t.id:"self"),!t){let t=!0;return this.parent&&(t=this.parent.unsubscribe(this)),this.state=2,this.cleanup(),t}if(this.subs){i.debug(this.id,"unsub child",t.id);const s=this.subs.indexOf(t);if(s>=0)return this.subs.splice(s,1),this.subs.length||this.unsubscribe(),!0}return!1}next(t){if(this.state<2)if(this.xform){const s=this.xform[2]([],t),i=H(s),e=i.length;for(let t=0;t<e;t++)this.dispatch(i[t]);F(s)&&this.done()}else this.dispatch(t)}done(){if(i.debug(this.id,"done start"),this.state<2){if(this.xform){const t=this.xform[1]([]),s=H(t),i=s.length;for(let e=0;e<i;e++)this.dispatch(s[e])}this.state=2;for(let t of[...this.subs])t.done&&t.done();this.unsubscribe(),i.debug(this.id,"done")}}error(t){this.state=3;let s=!1;if(this.subs&&this.subs.length)for(let i of this.subs.slice())i.error&&(i.error(t),s=!0);s||(i.warn(this.id,"unhandled error:",t),this.parent&&(i.debug(this.id,"unsubscribing..."),this.unsubscribe(),this.state=3))}addWrapped(t){return this.subs.push(t),this.state=1,t}dispatch(t){this.last=t;const s=this.subs;let i;if(1==s.length){i=s[0];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}else for(let r=s.length-1;r>=0;r--){i=s[r];try{i.next&&i.next(t)}catch(e){i.error?i.error(e):this.error(e)}}}ensureState(){this.state>=2&&Oa(`operation not allowed in state ${this.state}`)}cleanup(){i.debug(this.id,"cleanup"),this.subs.length=0,delete this.parent,delete this.xform,delete this.last}}class xc extends La{constructor(...e){let r,t;switch(e.length){case 0:break;case 1:n(e[0])?t=e[0]:r=e[0];break;case 2:[r,t]=e;break;default:m(e.length);}super(null,null,null,t||`stream-${M()}`),this.src=r}subscribe(...e){const r=super.subscribe.apply(this,e);return 1===this.subs.length&&(this._cancel=this.src&&this.src(this)||(()=>void 0)),r}unsubscribe(e){const r=super.unsubscribe(e);return!r||e&&this.subs&&this.subs.length||this.cancel(),r}done(){this.cancel(),super.done(),delete this.src,delete this._cancel}error(e){super.error(e),this.cancel()}cancel(){if(this._cancel){i.debug(this.id,"cancel");const e=this._cancel;delete this._cancel,e()}}}const yc=(e,r,t=!1)=>new xc($=>{let m=e=>$.next(e);return e.addEventListener(r,m,t),()=>e.removeEventListener(r,m,t)},`event-${r}-${M()}`);var O={};const Ea=Array.isArray,bb=n,c=t=>Ea(t)?t.slice():Object.assign({},t),pb=(t,$)=>(e,o)=>(e=c(e),e[t]=$?$(e[t],o):o,e),_=t=>Ea(t)?t:bb(t)?t.length>0?t.split("."):[]:null!=t?[t]:[];const Z=t=>{const $=_(t);let[e,o,r,n]=$;switch($.length){case 0:return t=>t;case 1:return t=>null!=t?t[e]:void 0;case 2:return t=>null!=t&&null!=(t=t[e])?t[o]:void 0;case 3:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[o])?t[r]:void 0;case 4:return t=>null!=t&&null!=(t=t[e])&&null!=(t=t[o])&&null!=(t=t[r])?t[n]:void 0;default:return t=>{const e=$.length-1;let o=t;for(let r=0;null!=o&&r<=e;r++)o=o[$[r]];return o};}};const ca=t=>{const $=_(t);let[e,o,r,n]=$;switch($.length){case 0:return(t,$)=>$;case 1:return(t,$)=>(t=c(t),t[e]=$,t);case 2:return(t,$)=>{let r;return(t=c(t))[e]=r=c(t[e]),r[o]=$,t};case 3:return(t,$)=>{let n,s;return(t=c(t))[e]=n=c(t[e]),n[o]=s=c(n[o]),s[r]=$,t};case 4:return(t,$)=>{let s,p,l;return(t=c(t))[e]=s=c(t[e]),s[o]=p=c(s[o]),p[r]=l=c(p[r]),l[n]=$,t};default:let t;for(let e=$.length;--e>=0;)t=pb($[e],t);return t;}};const Gb=(t,$)=>Z($)(t);const f=(t,$,e)=>ca($)(t,e);const C=(t,$,e,...o)=>ca($)(t,e.apply(null,(o.unshift(Z($)(t)),o)));let Lb=0;const Mb=()=>Lb++;class Pb{constructor(t,i,s,e=!0,r=j){this.parent=t,this.id=`view-${Mb()}`,this.tx=s||(t=>t),this.path=_(i),this.isDirty=!0,this.isLazy=e;const h=Z(this.path),$=this.parent.deref();this.unprocessed=$?h($):void 0,e||(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),t.addWatch(this.id,(t,i,s)=>{const $=i?h(i):i,a=s?h(s):s;r(a,$)||(e?this.unprocessed=a:this.state=this.tx(a),this.isDirty=!0)})}get value(){return this.deref()}deref(){return this.isDirty&&(this.isLazy&&(this.state=this.tx(this.unprocessed),this.unprocessed=void 0),this.isDirty=!1),this.state}changed(){return this.isDirty}view(){return this.isDirty&&this.isLazy?this.tx(this.unprocessed):this.state}release(){return this.unprocessed=void 0,this.isLazy||(this.state=this.tx(void 0)),this.isDirty=!0,this.parent.removeWatch(this.id)}}var Qb=O&&O.__decorate||function(e,t,r,i){var $,a=arguments.length,s=a<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,i);else for(var o=e.length-1;o>=0;o--)($=e[o])&&(s=(a<3?$(s):a>3?$(t,r,s):$(t,r))||s);return a>3&&s&&Object.defineProperty(t,r,s),s};let y=class{constructor(e,t){t&&!t(e)&&Oa("initial state value did not validate"),this._value=e,this.valid=t}get value(){return this._value}set value(e){this.reset(e)}deref(){return this._value}equiv(e){return this===e}reset(e){const t=this._value;return this.valid&&!this.valid(e)?t:(this._value=e,this.notifyWatches(t,e),e)}resetIn(e,t){return this.reset(f(this._value,e,t))}swap(e,...t){return this.reset(e.apply(null,[this._value,...t]))}swapIn(e,t,...r){return this.reset(C(this._value,e,t,...r))}addWatch(e,t){return!1}removeWatch(e){return!1}notifyWatches(e,t){}addView(e,t,r=!0){return new Pb(this,e,t,r)}release(){return delete this._watches,delete this._value,!0}};y=Qb([Db],y),O.Atom=y,O.Atom=y;let Y,$;let Wb=[],Yb=[];const Zb=r=>Y&&Y.length>=r?Y:Y=new Int32Array(r),$b=r=>$&&$.length>=r?$:$=new Int32Array(r),xa=(r,$,e,a,t)=>{const c=$.length,l=r.linear;if(r.distance=c,0!==t){for(let r=0,e=0;r<c;r++,e+=3)l[e]=a,l[e+1]=r,l[e+2]=$[r];if(3===t){const a=r[e];for(let r=0;r<c;r++)a[r]=$[r]}}return r},ac=(r,$,e=3,a=j)=>{const t={distance:0,adds:{},dels:{},const:{},linear:[]};if(r===$||null==r&&null==$)return t;if(null==r||0===r.length)return xa(t,$,"adds",1,e);if(null==$||0===$.length)return xa(t,r,"dels",-1,e);const c=r.length>=$.length;let l,n,h,s;c?(l=$,n=r):(l=r,n=$),h=l.length,s=n.length;const d=h+1,o=s-h,i=o+d,J=h+s+3,f=$b(J).fill(-1,0,J),v=Zb(J).fill(-1,0,J),u=Wb,P=Yb;u.length=0,P.length=0;const g=(r,$,e)=>{const t=r+d;let c,o;$>e?(c=f[t-1],o=$):(c=f[t+1],o=e);let i=o-r;for(;i<h&&o<s&&a(l[i],n[o]);)i++,o++;return f[t]=P.length/3,P.push(i,o,c),o};let p,_,F=-1;do{for(_=(p=-++F)+d;p<o;p++,_++)v[_]=g(p,v[_-1]+1,v[_+1]);for(_=(p=o+F)+d;p>o;p--,_--)v[_]=g(p,v[_-1]+1,v[_+1]);v[i]=g(o,v[i-1]+1,v[i+1])}while(v[i]!==s);if(t.distance=o+2*F,0!==e){for(F=3*f[i];F>=0;)u.push(F),F=3*P[F+2];3===e?bc(u,P,t,l,n,c):cc(u,P,t,l,n,c,1===e)}return t};const bc=(r,$,e,a,t,c)=>{const l=e.linear,n=e.const;let h,s,d,o,i=r.length,J=0,f=0;for(c?(h=e.dels,s=e.adds,d=-1,o=1):(h=e.adds,s=e.dels,d=1,o=-1);--i>=0;){const e=r[i],c=$[e],v=$[e+1],u=v-c;for(;J<c||f<v;){const r=f-J;u>r?(l.push(d,f,h[f]=t[f]),f++):u<r?(l.push(o,J,s[J]=a[J]),J++):(l.push(0,J,n[J]=a[J]),J++,f++)}}},cc=(r,$,e,a,t,c,l)=>{const n=e.linear,h=c?-1:1,s=c?1:-1;let d=r.length,o=0,i=0;for(;--d>=0;){const e=r[d],c=$[e],J=$[e+1],f=J-c;for(;o<c||i<J;){const r=i-o;f>r?(n.push(h,i,t[i]),i++):f<r?(n.push(s,o,a[o]),o++):(l&&n.push(0,o,a[o]),o++,i++)}}};const dc=(t,e,$=3,i=j)=>t===e?{distance:0}:0===$?ec(t,e,i):fc(t,e,i);const ec=(t,e,$)=>{let i=0;for(let r in t){const f=e[r];(void 0===f||!$(t[r],f))&&i++}for(let r in e)!(r in t)&&i++;return{distance:i}},fc=(t,e,$)=>{let i=0;const r=[],f=[],s=[];for(let n in t){const r=e[n];void 0===r?(f.push(n),i++):$(t[n],r)||(s.push(n,r),i++)}for(let n in e)n in t||(r.push(n),i++);return{distance:i,adds:r,dels:f,edits:s}};const D=Array.isArray,pc=Math.max,Pa=(()=>{const e=new Array(2048);for(let t=2,r=e.length;t<r;t++)e[t]=t-2;return e})(),rc=e=>{if(e<=Pa.length)return Pa.slice(0,e);const t=new Array(e);for(;--e>=2;)t[e]=e-2;return t},oa=(e,t,r,$,i,o=0)=>{const n=i[1];if(n.__skip)return;if(!1===n.__diff)return A($),void t.replaceChild(e,r,o,i);let a=n.__impl;if(a&&a!==t)return a.diffTree(e,a,r,$,i,o);const f=ac($,i,1,z);if(0===f.distance)return;const s=f.linear,h=t.getChild(r,o);let T,l,p,K,Q,v,u,c;if(0!==s[0]||$[1].key!==n.key)return A($),void t.replaceChild(e,r,o,i);if((c=$.__release)&&c!==i.__release&&A($),0!==s[3]&&(tc(t,h,$[1],i[1]),2===f.distance))return;const d=s.length,x=$.length-1,_=wc(s),g=rc(x+1);for(T=2,l=6;l<d;T++,l+=3)if(u=s[l])if(-1===u){if(c=s[l+2],D(c)){if(void 0!==(Q=c[1].key)&&void 0!==_[Q][2])Q=(v=_[Q])[0],oa(e,t,h,$[Q],i[v[2]],g[Q]);else for(K=s[l+1],A(c),t.removeChild(h,g[K]),p=x;p>K;p--)g[p]=pc(g[p]-1,0);}else"string"==typeof c&&t.setContent(h,"");}else if("string"==typeof(c=s[l+2]))t.setContent(h,c);else if(D(c)&&(void 0===(Q=c[1].key)||void 0===_[Q][0]))for(K=s[l+1],t.createTree(e,h,c,g[K]),p=x;p>=K;p--)g[p]++;(c=i.__init)&&c!=$.__init&&c.apply(i,[h,...i.__args])};const tc=(e,t,r,$)=>{const i=dc(r,$,3,j);e.removeAttribs(t,i.dels,r);let o,n,a,f=h;for(o=(a=i.edits).length;(o-=2)>=0;){const i=a[o];0===i.indexOf("on")&&e.removeAttribs(t,[i],r),"value"!==i?e.setAttrib(t,i,a[o+1],$):f=a[o+1]}for(o=(a=i.adds).length;--o>=0;)"value"!==(n=a[o])?e.setAttrib(t,n,$[n],$):f=$[n];f!==h&&e.setAttrib(t,"value",f,$)};const A=e=>{if(D(e)){let t;if((t=e[1])&&!1===t.__release)return;for(e.__release&&(e.__release.apply(e.__this,e.__args),delete e.__release),t=e.length;--t>=2;)A(e[t])}};const wc=e=>{let t,r,$;const i={};for(let o=e.length;(o-=3)>=0;)r=e[o+2],D(r)&&void 0!==(t=r[1].key)&&(!($=i[t])&&(i[t]=$=[,,]),$[e[o]+1]=e[o+1]);return i},Ba=Object.getPrototypeOf({}),z=(e,t)=>{let r;return e===t||(null==e?e==t:"function"==typeof e.equiv?e.equiv(t):null==t?e==t:"function"==typeof t.equiv?t.equiv(e):"string"!=typeof e&&"string"!=typeof t&&(null!=(r=Object.getPrototypeOf(e))&&r!==Ba||null!=(r=Object.getPrototypeOf(t))&&r!==Ba?"function"!=typeof e&&void 0!==e.length&&"function"!=typeof t&&void 0!==t.length?va(e,t,z):e instanceof Set&&t instanceof Set?ua(e,t,z):e instanceof Map&&t instanceof Map?qa(e,t,z):e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():e instanceof RegExp&&t instanceof RegExp?e.toString()===t.toString():e!=e&&t!=t:!(!1===e.__diff||!1===t.__diff)&&na(e,t,z)))};const zc="http://www.w3.org/2000/svg";const Bc=/^([^\s\.#]+)(?:#([^\s\.#]+))?(?:\.([^\s#]+))?$/;const Cc="animate animateColor animateMotion animateTransform circle clipPath color-profile defs desc discard ellipse feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feDropShadow feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence filter font foreignObject g image line linearGradient marker mask metadata mpath path pattern polygon polyline radialGradient rect set stop style svg switch symbol text textPath title tref tspan use view".split(" ").reduce((e,t)=>(e[t]=1,e),{});const _c="area base br circle col command ellipse embed hr img input keygen line link meta param path polygon polyline rect source stop track use wbr ?xml".split(" ").reduce((e,t)=>(e[t]=1,e),{});const Ec={"&":"&amp;","<":"&lt;",">":"&gt;","\"":"&quot;","'":"&apos;"};const Mc={button:1,option:1,text:1,textarea:1};const $c=new RegExp(`[${Object.keys(Ec)}]`,"g");const Wc=t=>{let $,r="";for(let e in t)$=t[e],x($)&&($=$(t)),null!=$&&(r+=`${e}:${$};`);return r};const Za=(e,t)=>{if(null==e||!t||!t.length)return e;const r=Object.assign({},e);for(let n of t){const e=r[n];K(e,"deref")&&(r[n]=e.deref())}return r};const P=l,Fa=Ia,Q=(e,t,r,s,n)=>{if(P(s)){const $=s[0];if("function"==typeof $)return Q(e,t,r,$.apply(null,[e.ctx,...s.slice(1)]),n);const o=s[1];if(o.__impl)return o.__impl.createTree(e,r,s,n);const i=t.createElement(r,$,o,n);if(s.length>2){const r=s.length;for(let n=2;n<r;n++)Q(e,t,i,s[n])}return s.__init&&s.__init.apply(s.__this,[i,...s.__args]),i}if(Fa(s)){const n=[];for(let $ of s)n.push(Q(e,t,r,$));return n}return null==s?r:t.createTextElement(r,s)};const N=(e,t,r,s,n=0)=>{if(P(s)){const $=t.getChild(r,n);"function"==typeof s[0]&&N(e,t,r,s[0].apply(null,[e.ctx,...s.slice(1)]),n);const o=s[1];if(o.__impl)return o.__impl.hydrateTree(e,r,s,n);s.__init&&s.__init.apply(s.__this,[$,...s.__args]);for(let e in o)0===e.indexOf("on")&&t.setAttrib($,e,o[e]);for(let r=s.length,n=2;n<r;n++)N(e,t,$,s[n],n-2)}else if(Fa(s))for(let $ of s)N(e,t,r,$,n),n++};const cb=(e,t,r,s)=>{const n=Cc[t]?document.createElementNS(zc,t):document.createElement(t);return e&&(null==s?e.appendChild(n):e.insertBefore(n,e.children[s])),r&&hb(n,r),n};const db=(e,t,r)=>{const s=document.createTextNode(t);return e&&(void 0===r?e.appendChild(s):e.insertBefore(s,e.children[r])),s};const eb=(e,t)=>e.children[t];const fb=(e,t,r,s,n)=>(t.removeChild(r,s),t.createTree(e,r,n,s));const gb=(e,t)=>e.textContent=t;const hb=(e,t)=>{for(let r in t)Ma(e,r,t[r],t);return e};const Ma=(e,t,r,s)=>{if(t.startsWith("__"))return;const n=0===t.indexOf("on");if(n||"function"!=typeof r||(r=r(s)),void 0!==r&&!1!==r)switch(t){case"style":lb(e,r);break;case"value":jb(e,r);break;case"id":case"checked":case"scrollTop":case"scrollLeft":e[t]=r;break;default:n?mb(e,t.substr(2),r):e.setAttribute(t,r);}else null!=e[t]?e[t]=null:e.removeAttribute(t);return e};const jb=(e,t)=>{let r;switch(e.type){case"text":case"textarea":case"password":case"search":case"number":case"email":case"url":case"tel":case"date":case"datetime-local":case"time":case"week":case"month":if(void 0!==(r=e.value)&&"string"==typeof t){const s=t.length-(r.length-e.selectionStart);e.value=t,e.selectionStart=e.selectionEnd=s;break}default:e.value=t;}};const kb=(e,t,r)=>{for(let s=t.length;--s>=0;){const n=t[s];0===n.indexOf("on")?nb(e,n.substr(2),r[n]):e.hasAttribute(n)?e.removeAttribute(n):e[n]=null}};const lb=(e,t)=>(e.setAttribute("style",Wc(t)),e);const mb=(e,t,r)=>{P(r)?e.addEventListener(t,...r):e.addEventListener(t,r)};const nb=(e,t,r)=>{P(r)?e.removeEventListener(t,...r):e.removeEventListener(t,r)};const ob=(e,t)=>{const r=e.children[t];void 0!==r&&e.removeChild(r)};const L=l,qb=Ia,rb=Sb,sb=(e,r)=>{let $,i,t,n,a=e[0],o=rb(e[1]);return"string"==typeof a&&($=Bc.exec(a))||ia(`${a} is not a valid tag name`),a!==$[1]||!o||r&&!e[1].key?(n=o?Object.assign({},e[1]):{},i=$[2],t=$[3],i&&(n.id=i),t&&(t=t.replace(/\./g," "),n.class?n.class+=" "+t:n.class=t),n.__skip&&e.length<3?[$[1],n,""]:[$[1],n,...e.slice(o?2:1)]):e};const tb=(e,r)=>k(r,e,e.ctx,[0],!1!==e.keys,!1!==e.span);const k=(e,r,$,i,t,n)=>{if(null!=e){if(L(e)){if(0===e.length)return;let a,o,l=e[1];if(l&&(o=l.__impl)&&(o=o.normalizeTree))return o(r,e);const s=e[0];if("function"==typeof s)return k(s.apply(null,[$,...e.slice(1)]),r,$,i,t,n);if("function"==typeof s.render){const o=[$,...e.slice(1)];return a=k(s.render.apply(s,o),r,$,i,t,n),L(a)&&(a.__this=s,a.__init=s.init,a.__release=s.release,a.__args=o),a}if(!1===(l=(a=sb(e,t))[1]).__normalize)return a;if(t&&void 0===l.key&&(l.key=i.join("-")),a.length>2){const e=a[0],o=[e,l];n=n&&!Mc[e];for(let l=2,s=2,x=0,c=a.length;l<c;l++){let e=a[l];if(null!=e){const a=L(e);if(a&&L(e[0])||!a&&qb(e))for(let l of e)void 0!==(l=k(l,r,$,i.concat(x),t,n))&&(o[s++]=l),x++;else void 0!==(e=k(e,r,$,i.concat(x),t,n))&&(o[s++]=e),x++}}return o}return a}return"function"==typeof e?k(e($),r,$,i,t,n):"function"==typeof e.toHiccup?k(e.toHiccup(r.ctx),r,$,i,t,n):"function"==typeof e.deref?k(e.deref(),r,$,i,t,n):n?["span",t?{key:i.join("-")}:{},e.toString()]:e.toString()}};const vb={createTree(e,t,r,$){return Q(e,this,t,r,$)},hydrateTree(e,t,r,$){return N(e,this,t,r,$)},diffTree(e,t,r,$,i){oa(e,this,t,r,$,i)},normalizeTree:tb,getElementById:e=>document.getElementById(e),getChild:eb,createElement:cb,createTextElement:db,replaceChild(e,t,r,$){fb(e,this,t,r,$)},removeChild:ob,setContent:gb,removeAttribs:kb,setAttrib:Ma};const wb=(e,o)=>n(e)?o.getElementById(e):e;const xb=(e,r={},t=vb)=>{const a=Object.assign({root:"app"},r);let $=[],o=!0;const i=wb(a.root,t),f=()=>{if(o){a.ctx=Za(r.ctx,a.autoDerefKeys);const s=t.normalizeTree(a,e);null!=s&&(a.hydrate?(t.hydrateTree(a,i,s),a.hydrate=!1):t.diffTree(a,i,$,s),$=s),o&&requestAnimationFrame(f)}};return requestAnimationFrame(f),()=>o=!1};const yb="--set-value";const zb="--update-value";const ka="--toggle-value";const Bb="--cancel";const Cb="--dispatch";const la="--dispatch-async";const Eb="--dispatch-now";const Fb="--delay";const ma="--fetch";const q="--state";const Ib="--redo";const Jb="--undo";const ba=Bb,pa=Eb,g=q;class Nb{constructor(t,e){this.handlers={},this.effects={},this.eventQueue=[],this.priorities=[],this.addBuiltIns(),t&&this.addHandlers(t),e&&this.addEffects(e)}addBuiltIns(){this.addEffects({[Cb]:[t=>this.dispatch(t),-999],[la]:[([t,e,r,s])=>{const i=this.effects[t];if(i){const t=i(e,this);Tb(t)?t.then(t=>this.dispatch([r,t])).catch(t=>this.dispatch([s,t])):console.warn("async effect did not return Promise")}else console.warn(`skipping invalid async effect: ${t}`)},-999],[Fb]:[([t,e])=>new Promise(r=>setTimeout(()=>r(e),t)),1e3],[ma]:[t=>fetch(t).then(t=>{if(!t.ok)throw new Error(t.statusText);return t}),1e3]})}addHandler(t,e){const r=l(e)?e.map(ra):x(e)?[{pre:e}]:[e];r.length>0?(this.handlers[t]&&(this.removeHandler(t),console.warn(`overriding handler for ID: ${t}`)),this.handlers[t]=r):ia(`no handlers in spec for ID: ${t}`)}addHandlers(t){for(let e in t)this.addHandler(e,t[e])}addEffect(t,e,r=1){this.effects[t]&&(this.removeEffect(t),console.warn(`overriding effect for ID: ${t}`)),this.effects[t]=e;const s=[t,r],i=this.priorities;for(let $=0;$<i.length;$++)if(s[1]<i[$][1])return void i.splice($,0,s);i.push(s)}addEffects(t){for(let e in t){const r=t[e];l(r)?this.addEffect(e,r[0],r[1]):this.addEffect(e,r)}}instrumentWith(t,e){const r=t.map(ra),s=this.handlers;for(let i of e||Object.keys(s)){const t=s[i];t&&(s[i]=r.concat(t))}}removeHandler(t){delete this.handlers[t]}removeHandlers(t){for(let e of t)this.removeHandler(e)}removeEffect(t){delete this.effects[t];const e=this.priorities;for(let r=e.length-1;r>=0;r--)if(t===e[r][0])return void e.splice(r,1)}removeEffects(t){for(let e of t)this.removeEffect(e)}context(){return this.currCtx}dispatch(...t){this.eventQueue.push(...t)}dispatchNow(...t){(this.currQueue||this.eventQueue).push(...t)}dispatchLater(t,e=17){setTimeout(()=>this.dispatch(t),e)}processQueue(t){if(this.eventQueue.length>0){this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=t||{};for(let e of this.currQueue)this.processEvent(t,e);return this.currQueue=this.currCtx=void 0,this.processEffects(t),!0}return!1}processEvent(t,e){const r=this.handlers[e[0]];if(!r)return void console.warn(`missing handler for event type: ${e[0].toString()}`);const s=r.length-1;let i=!1;for(let $=0;$<=s&&!t[ba];$++){const s=r[$];s.pre&&this.mergeEffects(t,s.pre(t[g],e,this,t)),i=i||!!s.post}if(i)for(let $=s;$>=0&&!t[ba];$--){const s=r[$];s.post&&this.mergeEffects(t,s.post(t[g],e,this,t))}}processEffects(t){const e=this.effects;for(let r of this.priorities){const s=r[0],i=t[s];if(void 0!==i){const r=e[s];if(s!==g)for(let e of i)r(e,this,t);else r(i,this,t)}}}mergeEffects(t,e){if(e)for(let r in e){const s=e[r];if(null!=s)if(r===g||r===ba)t[r]=s;else if(r===pa){if(l(s[0]))for(let t of s)t&&this.dispatchNow(t);else this.dispatchNow(s);}else if(t[r]||(t[r]=[]),l(s[0]))for(let e of s)void 0!==e&&t[r].push(e);else t[r].push(s)}}}class Ob extends Nb{constructor(t,e,r){super(e,r),this.state=t||new y({})}deref(){return this.state.deref()}addBuiltIns(){super.addBuiltIns(),this.addHandlers({[yb]:(t,[e,[r,s]])=>({[g]:f(t,r,s)}),[zb]:(t,[e,[r,s,...i]])=>({[g]:C(t,r,s,...i)}),[ka]:(t,[e,r])=>({[g]:C(t,r,t=>!t)}),[Jb]:sa("undo"),[Ib]:sa("redo")}),this.addEffects({[g]:[t=>this.state.reset(t),-1e3]})}processQueue(t){if(this.eventQueue.length>0){const e=this.state.deref();this.currQueue=[...this.eventQueue],this.eventQueue.length=0,t=this.currCtx=Object.assign({},t,{[g]:e});for(let r of this.currQueue)this.processEvent(t,r);return this.currQueue=this.currCtx=void 0,this.processEffects(t),this.state.deref()!==e}return!1}}const ra=t=>x(t)?{pre:t}:t,sa=t=>(e,[r,s],i,$)=>{let o=s?s[0]:"history";if(K($[o],t)){const e=$[o][t]();return{[g]:i.state.deref(),[pa]:s?void 0!==e?s[1]:s[2]:void 0}}console.warn("no history in context")};const Rb=(e,$)=>console.log("event:",$);const ta=(e,$)=>{const t=ca(e);return(e,[r,o])=>({[q]:t(e,$?$(o):o)})};const B="route-changed";var G={};var Vb=G&&G.__decorate||function(t,e,r,i){var o,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,i);else for(var n=t.length-1;n>=0;n--)(o=t[n])&&(s=(a<3?o(s):a>3?o(e,r,s):o(e,r))||s);return a>3&&s&&Object.defineProperty(e,r,s),s};let E=class{constructor(t){t.authenticator=t.authenticator||((t,e,r)=>({id:t.id,title:t.title,params:r})),t.prefix=void 0===t.prefix?"/":t.prefix,t.separator=t.separator||"/",this.config=t}addListener(t,e,r){return!1}removeListener(t,e,r){return!1}notify(t){}start(){if(this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.current={id:t.id,title:t.title,params:{}},this.notify({id:B,value:this.current})}}route(t){"#"===t.charAt(0)&&(t=t.substr(1)),t=t.substr(this.config.prefix.length);const e=this.config.routes,r=t.split(this.config.separator);let i;for(let o=0,a=e.length;o<a;o++){const t=e[o],a=this.matchRoute(r,t);if(a){i=a;break}}if(!i){if(!this.handleRouteFailure())return;const t=this.routeForID(this.config.defaultRouteID);i={id:t.id,title:t.title,params:{}}}return j(i,this.current)||(this.current=i,this.notify({id:B,value:i})),i}format(...t){let e,[r,i,o]=t;switch(t.length){case 3:e={id:r,params:i};break;case 2:n(r)?e={id:r,params:i}:(o=i,e=r);break;case 1:e=n(r)?{id:r}:r;break;default:m(t.length);}const a=this.routeForID(e.id);if(a){const t=e.params||{};return(o?"#":"")+this.config.prefix+a.match.map(e=>"?"===e.charAt(0)?null!=(e=t[e.substr(1)])?e:"NULL":e).join(this.config.separator)}ia(`invalid route ID: ${e.id.toString()}`)}routeForID(t){return this.config.routes.find(e=>e.id===t)}matchRoute(t,e){const r=e.match,i=r.length;if(t.length===i){const o={};for(let e=0;e<i;e++){const i=r[e];if("?"===i.charAt(0))o[i.substr(1)]=t[e];else if(t[e]!==i)return}if(e.validate&&!this.validateRouteParams(o,e.validate))return;return e.auth?this.config.authenticator(e,t,o):{id:e.id,title:e.title,params:o}}}validateRouteParams(t,e){for(let r in e)if(void 0!==t[r]){const i=e[r];if(i.coerce&&(t[r]=i.coerce(t[r])),i.check&&!i.check(t[r]))return!1}return!0}handleRouteFailure(){return!0}};E=Vb([Ab],E),G.BasicRouter=E,G.BasicRouter=E;class Xb extends E{constructor(t){super(t),this.useFragment=!1!==t.useFragment}start(){if(window.addEventListener("popstate",this.handlePopChange()),this.useFragment&&window.addEventListener("hashchange",this.handleHashChange()),this.config.initialRouteID){const t=this.routeForID(this.config.initialRouteID);this.route(this.format({id:t.id,title:t.title}))}else this.route(this.useFragment?location.hash:location.pathname)}release(){window.removeEventListener("popstate",this.popHandler),this.useFragment&&window.removeEventListener("hashchange",this.hashHandler)}route(t,e=!0){const r=this.current,i=super.route(t);return j(i,r)||(this.currentPath=this.format(i),e&&history.pushState(this.currentPath,i.title||window.document.title||"",this.currentPath)),i}routeTo(t){this.useFragment&&(location.hash=t),this.route(t)}format(...t){let e;switch(t.length){case 2:e={id:t[0],params:t[1]};break;case 1:e=n(t[0])?{id:t[0]}:t[0];break;default:m(t.length);}return super.format(e,this.useFragment)}handlePopChange(){return this.popHandler=this.popHandler||(t=>{this.route(t.state||(this.useFragment?location.hash:location.pathname),!1)}).bind(this)}handleHashChange(){return this.hashHandler=this.hashHandler||(t=>{if(!this.ignoreHashChange){const e=t.newURL.substr(t.newURL.indexOf("#"));e!==this.currentPath&&this.route(e,!1)}}).bind(this)}handleRouteFailure(){return this.ignoreHashChange=!0,location.hash=this.format({id:this.routeForID(this.config.defaultRouteID).id}),this.ignoreHashChange=!1,!0}}var W={};W.JSON="load-json";W.ROUTE_TO="route-to";var a={};a.RESIZE="resize";a.ROUTE_TO="route-to";a.TOGGLE_NAV_GROUP="toggle-nav-group";a.LOAD_PROJECTS="load-projects";a.PARSE_PROJECTS="parse-projects";a.RECEIVE_PROJECTS="receive-projects";a.LOAD_PROJECTS_ERROR="load-projects-erroe";a.NEXT_FEATURED_PROJECT="next-featured-project";const U={id:"home",match:["home"]};const T={id:"works-list",match:["works","?type"]};const u={id:"work",match:["work","?id"]};const v={id:"gallery",match:["gallery","?id","?index"]};const V={id:"contact",match:["contact"]};const R={id:"join",match:["join"]};const fa=(r,$,e,p)=>["a",Object.assign({href:"#",onclick:r=>{r.preventDefault(),e(r)}},$),p];const p=({bus:$},e,r,t)=>[fa,e,()=>$.dispatch([a.ROUTE_TO,r]),t];const gc=({ui:$,bus:e})=>[fa,$.nav.switch,()=>e.dispatch([ka,"nav.visible"]),["span",$.icons.menu]];const hc=({ui:$,bus:e},n)=>["li",$.nav.item,["div",[fa,n.active?$.nav.linkActive:$.nav.link,()=>e.dispatch([a.TOGGLE_NAV_GROUP,n.name]),n.name],n.open?["ul",$.nav.subContent,...d($=>[Ha,$],n.children)]:null]],Ha=({ui:$},e)=>["li",$.nav.item,[p,e.active?$.nav.linkActive:$.nav.link,e.route,e.name]],jc=({ui:$,views:e})=>["ul",$.nav.content,...d($=>[$.hasOwnProperty("children")?hc:Ha,$],e.nav.deref().items)],kc=({ui:$,views:e})=>{return e.isLarge.deref()||e.nav.deref().visible?["div",$.nav.container,jc]:null};const lc=({ui:$})=>[p,$.logo,[U.id,null],"Alternability"],mc=({ui:$})=>["div",$.header,lc,gc];function nc({ui:$,views:r}){return["div",$.root,r.routeComponent,mc,kc]}class oc{constructor(t){this.config=t,this.state=new y(t.initialState||{}),this.ctx={bus:new Ob(this.state,t.events,t.effects),views:{},ui:t.ui},this.addViews(this.config.views),this.router=new Xb(t.router),this.router.addListener(B,t=>this.ctx.bus.dispatch([B,t.value])),this.ctx.bus.addEffect(W.ROUTE_TO,([t,e])=>this.router.routeTo(this.router.format(t,e))),this.addViews({route:"route",routeComponent:["route.id",t=>(this.config.components[t]||(()=>["div",`missing component for route: ${t}`]))(this.ctx)]})}addViews(t){const e=this.ctx.views;for(let i in t){const r=t[i];l(r)?e[i]=this.state.addView(r[0],r[1]):e[i]=this.state.addView(r)}}start(){this.router.start();const{bus:t}=this.ctx;yc(window,"resize").subscribe({next(){t.dispatch([a.RESIZE,window.matchMedia("(min-width: 30em)").matches])}}),t.dispatch([a.RESIZE,window.matchMedia("(min-width: 30em)").matches]),t.dispatch([a.LOAD_PROJECTS]);const e=this.rootComponent();let i=!0;xb(t=>{if(this.ctx.bus.processQueue()||i)return i=!1,e},{root:this.config.domRoot,ctx:this.ctx})}rootComponent(){const{ui:t}=this.ctx;return["div",t.app,nc]}}var r,s,b={};function ga(){throw new Error("setTimeout has not been defined")}function ha(){throw new Error("clearTimeout has not been defined")}function Na($){if(r===setTimeout)return setTimeout($,0);if((r===ga||!r)&&setTimeout)return r=setTimeout,setTimeout($,0);try{return r($,0)}catch(e){try{return r.call(null,$,0)}catch(e){return r.call(this,$,0)}}}function vc($){if(s===clearTimeout)return clearTimeout($);if((s===ha||!s)&&clearTimeout)return s=clearTimeout,clearTimeout($);try{return s($)}catch(e){try{return s.call(null,$)}catch(e){return s.call(this,$)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:ga}catch($){r=ga}try{s="function"==typeof clearTimeout?clearTimeout:ha}catch($){s=ha}}();var t,o=[],ja=!1,Ra=-1;function Ac(){ja&&t&&(ja=!1,t.length?o=t.concat(o):Ra=-1,o.length&&Sa())}function Sa(){if(!ja){var $=Na(Ac);ja=!0;for(var e=o.length;e;){for(t=o,o=[];++Ra<e;)t&&t[Ra].run();Ra=-1,e=o.length}t=null,ja=!1,vc($)}}function Ta($,e){this.fun=$,this.array=e}function e(){}b.nextTick=function($){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];o.push(new Ta($,e)),1!==o.length||ja||Na(Sa)},Ta.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.env={},b.argv=[],b.version="",b.versions={},b.on=e,b.addListener=e,b.once=e,b.off=e,b.removeListener=e,b.removeAllListeners=e,b.emit=e,b.prependListener=e,b.prependOnceListener=e,b.listeners=function($){return[]},b.binding=function($){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function($){throw new Error("process.chdir is not supported")},b.umask=function(){return 0};const w=e=>`https://iwongharvey.github.io/alternability${e}`;const Fc=(e,r)=>{const $=e.body.getReader(),o=new TextDecoder;let t="";const d=({done:e,value:s})=>{if(!e)return t+=o.decode(s),$.read().then(d);r(JSON.parse(t))};$.read().then(d)};const Gc=(e,r,$)=>()=>({[la]:[ma,w(e),r,$]});const Hc=e=>(r,[$,o],t)=>(Fc(o,r=>t.dispatch(e(r))),r);const Ic=({ui:e,views:r,bus:$})=>{$.dispatchLater([a.NEXT_FEATURED_PROJECT],4e3);const t=r.featured.deref()[r.currentFeatured.deref()],i=r.projects.deref();return["div",e.gallery,[p,{},[u.id,{id:t}],["img",Object.assign({},e.homeGalleryImg,{src:w(i[t].images[0])})]]]};function Jc({ui:e,views:r}){return()=>["div",e.home,r.featured.deref().length>0?[Ic]:null]}function Kc({ui:t}){return()=>["div",t.contact,["div",t.contentOne,["div",t.title,"Contact Us"],["div",t.specform,"Tel:","(+86) 135 3399 1206","Email:",["a",{href:"mailto:info@i-ana.com"},"info@i-ana.com"],"Addr:","3A01, Block 1-2, Sihai City, No. 390, East Hanxi Avenue, Panyu District Guangzhou"]]]}function Lc({ui:i}){return["div",i.join,["div",i.contentOne,["div",i.title,"Join Us"]]]}const Wa=({ui:e},t)=>["div",["div",e.project.title,t.title],["div",e.project.spec,"Client:",t.client,"Area:",t.area,"Category:",t.category,"Designer:",t.designer,"Members:",t.members,"Construction:",t.construction,"Constructor:",t.constructor,"Design Date:",`${t.date.getFullYear()}-${t.date.getMonth()}`,"Construction Date:",`${t.date.getFullYear()}-${t.date.getMonth()}`,"Location:",t.location]];const Nc=({ui:r},e)=>{const $=[u.id,{id:e.id}];return["div",r.project.thumbContainer,[p,{},$,["img",Object.assign({},r.project.thumbImg,{src:w(e.thumbnail)})]],[p,r.project.thumbTitle,$,e.title]]},Oc=({ui:r,views:e},$,t)=>{const i=e.projects.deref();return["div",r.project.group,["div",r.project.category,$],["ul",r.project.thumbList,...d(e=>["li",r.project.thumbItem,[Nc,i[e]]],t)]]},Pc=({ui:r},e,$)=>{const t=[v.id,{id:e.id,index:$}],i=e.images[$];return[p,{},t,["img",Object.assign({},r.project.image,{src:w(i)})]]},Qc=({ui:r},e)=>["div",r.project.info,[Wa,e],["div",...Qa((r,$)=>[Pc,e,r],e.images)]],Rc=({ui:r,views:e},$)=>{const t=e.projects.deref()[$];return t?["div",r.workDetail,[Qc,t]]:null};function Xa({ui:r,views:e}){return()=>["div",r.workList,["div",r.workListThumb,...d(([r,e])=>[Oc,r,e],_b(e.projectGroups.deref()))],[Rc,e.project.deref()]]}const Tc=({ui:r,views:e})=>{const $=e.project.deref(),i=e.projects.deref()[$];if(i){const l=e.galleryImage.deref(),o=i.images,t=[v.id,{id:$,index:(l+1)%o.length}];return["div",r.gallery,[p,{},t,["img",Object.assign({},r.galleryImg,{src:w(o[l])})]],["div",r.galleryInfo,[Wa,i]]]}};function Uc({ui:r}){return()=>["div",r.home,[Tc]]}const Vc=[{type:"all",name:"All"},{type:"shop",name:"Shop"},{type:"hotel",name:"Hotel"}],Ca=[{name:"Works",children:[...d(t=>({name:t.name,route:[T.id,{type:t.type}],match:({id:o,params:e})=>o==T.id&&e.type==t.type}),Vc)]},{name:"Contact",route:[V.id,null],match:({id:t})=>t==V.id},{name:"Join",route:[R.id,null],match:({id:t})=>t==R.id}],Xc=t=>t.hasOwnProperty("children"),Yc=t=>[...d(o=>{if(o.active=!1,Xc(o)){let e=!1;for(let r=0;r<o.children.length;r++){const $=o.children[r];$.active=$.match(t),e||(e=$.active)}o.open=o.active=e}else o.active=o.match(t);return o},Ca)],Sc=t=>o=>[...d(o=>(o.name==t&&(o.open=!o.open),o),o)],Dc=t=>[...d(t=>(t.date=new Date(Date.parse(t.date)),t.construction_date=new Date(Date.parse(t.construction_date)),t),t)],Zc={router:{useFragment:!0,defaultRouteID:U.id,routes:[U,T,u,v,V,R]},events:{[B]:[ta("route"),(t,[o,e])=>{const r=f(t,"nav.items",Yc(e));return{[q]:f(r,"nav.visible",!1)}},(t,[o,e])=>{let r;if(e.id==u.id)r=f(t,"project",e.params.id);else if(e.id==v.id){const o=f(t,"project",e.params.id);r=f(o,"galleryImage",parseInt(e.params.index))}return{[q]:r}}],[a.ROUTE_TO]:(t,[o,e])=>({[W.ROUTE_TO]:e}),[a.TOGGLE_NAV_GROUP]:(t,[o,e])=>({[q]:C(t,"nav.items",Sc(e))}),[a.RESIZE]:ta("isLarge"),[a.LOAD_PROJECTS]:[Gc("/projects/index.html",a.PARSE_PROJECTS,a.LOAD_PROJECTS_ERROR)],[a.PARSE_PROJECTS]:Hc(t=>[a.RECEIVE_PROJECTS,Dc(t.projects)]),[a.RECEIVE_PROJECTS]:(t,[o,e])=>{const r=X(d(t=>[t.id,t]),Aa(),e),$=f(t,"projects",r),c=ya({key:t=>t.category,group:S(I(),(t,o)=>(t.push(o.id),t))},e),i=f($,"projectGroups",c),s=X(aa(Ya(t=>t.featured),d(t=>t.id)),I(),e),a=f(i,"featured",s);return{[q]:f(a,"initialized",!0)}},[a.LOAD_PROJECTS_ERROR]:Rb,[a.NEXT_FEATURED_PROJECT]:(t,o)=>{const e=Gb(t,"featured");return{[q]:C(t,"currentFeatured",t=>e.length>0?(t+1)%e.length:0)}}},effects:{},components:{[U.id]:Jc,[T.id]:Xa,[u.id]:Xa,[v.id]:Uc,[V.id]:Kc,[R.id]:Lc},domRoot:"app",initialState:{initialized:!1,nav:{visible:!0,items:Ca},isLarge:!1,project:"",projects:{},projectGroups:{},currentFeatured:0,featured:[]},views:{initialized:"initialized",nav:"nav",isLarge:"isLarge",project:"project",projects:"projects",projectGroups:"projectGroups",currentFeatured:"currentFeatured",featured:"featured",galleryImage:"galleryImage"},ui:{app:{class:"sans-serif f6 relative dark-gray lh-title h-100"},link:{class:"link"},icons:{menu:{class:"menu icon"}},root:{class:"dg grid h-100"},header:{class:"pa3 header relative"},logo:{class:"f3 absolute v-center link"},nav:{container:{class:"nav relative"},switch:{class:"right-1 link absolute f5 dn-ns v-center"},content:{class:"ph3 ma0 w3 list pa0"},item:{class:"mv1"},link:{class:"link hover-b"},linkActive:{class:"b link"},subContent:{class:"ml3 list pa0"}},home:{class:"content relative"},gallery:{class:""},homeGalleryImg:{class:"absolute cover vh-100 top-0 left-0 fade-in-out"},galleryImg:{class:"absolute cover vh-100 top-0 left-0"},galleryInfo:{class:"absolute bottom-1 right-2 mw-70"},workList:{class:"content grid dg h-100 w-100 absolute"},workListThumb:{class:"content-left pl2 mt1-ns"},workDetail:{class:"content-right overflow-scroll"},project:{group:{class:"mb2"},category:{class:"mb1"},thumbList:{class:"list dg thumb-grid ma0 pa0"},thumbItem:{class:"w3 h3"},thumbContainer:{class:"relative thumb-container"},thumbTitle:{class:"no-underline absolute vh-center tc dn thumb-title white nus"},thumbImg:{class:"db thumb-img"},info:{class:""},title:{class:"f5 mb5-ns mb3 mt0 mt1-ns"},spec:{class:"dg project-spec f7 mb3"},image:{class:"db img mb1"}},contact:{class:"content grid dg"},contentOne:{class:"content-one pa3 pa0-ns pl2-ns mt1-ns"},join:{class:"content grid dg"},title:{class:"f5 mb3 b"},specform:{class:"dg spec-grid"}}};new oc(Zc).start();return{"9B6d":{}};});